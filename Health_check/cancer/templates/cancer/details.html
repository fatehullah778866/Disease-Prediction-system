<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Breast Cancer Dataset Report</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.4/dist/chart.umd.min.js"></script>
    <!-- PapaParse for CSV parsing -->
    <script src="https://cdn.jsdelivr.net/npm/papaparse@5.4.1/papaparse.min.js"></script>
    <style>
        :root {
            --primary-color: #4a6fa5;
            --secondary-color: #166088;
            --accent-color: #4fc3f7;
            --light-color: #f8f9fa;
            --dark-color: #343a40;
            --danger-color: #e63946;
            --success-color: #2a9d8f;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            color: var(--dark-color);
            min-height: 100vh;
        }

        .header {
            background: linear-gradient(135deg, var(--primary-color) 0%, var(--secondary-color) 100%);
            color: white;
            padding: 2rem 0;
            margin-bottom: 2rem;
            border-radius: 0 0 15px 15px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
        }

        .card {
            margin-bottom: 2rem;
            background: rgba(255, 255, 255, 0.85);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border-radius: 15px;
            box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.15);
            border: 1px solid rgba(255, 255, 255, 0.18);
            transition: all 0.3s ease;
        }

        .card:hover {
            box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.25);
            transform: translateY(-5px);
        }

        .card-header {
            background: linear-gradient(135deg, var(--primary-color) 0%, var(--secondary-color) 100%);
            color: white;
            font-weight: 600;
            border-radius: 15px 15px 0 0 !important;
        }

        .chart-container {
            height: 400px;
            width: 100%;
            margin-bottom: 1.5rem;
        }

        canvas {
            max-height: 400px;
            width: 100%;
        }

        table {
            width: 100%;
            margin-bottom: 1rem;
            color: var(--dark-color);
        }

        table th, table td {
            padding: 0.75rem;
            vertical-align: top;
            border-top: 1px solid rgba(0, 0, 0, 0.1);
        }

        table thead th {
            vertical-align: bottom;
            border-bottom: 2px solid rgba(0, 0, 0, 0.1);
            background: rgba(255, 255, 255, 0.7);
        }

        table tbody tr:nth-of-type(odd) {
            background-color: rgba(255, 255, 255, 0.3);
        }

        .loading-spinner {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
        }

        .spinner-border {
            width: 3rem;
            height: 3rem;
            border: 8px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top-color: var(--primary-color);
            animation: spin 1s ease-in-out infinite;
        }

        .insight-item {
            margin-bottom: 0.5rem;
        }

        .scroll-to-top {
            position: fixed;
            bottom: 20px;
            right: 20px;
            display: none;
            background-color: var(--primary-color);
            color: white;
            border: none;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            text-align: center;
            font-size: 20px;
            z-index: 99;
            cursor: pointer;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
            transition: all 0.3s ease;
        }

        .scroll-to-top:hover {
            background-color: var(--secondary-color);
            transform: translateY(-2px);
        }

        .back-home-btn {
            background-color: var(--primary-color);
            border: none;
            padding: 12px 25px;
            border-radius: 8px;
            font-weight: 600;
            letter-spacing: 0.5px;
            transition: all 0.3s ease;
            color: white;
            width: 100%;
            text-align: center;
            display: block;
            margin-bottom: 2rem;
        }

        .back-home-btn:hover {
            background-color: var(--secondary-color);
            transform: translateY(-2px);
            color: white;
            text-decoration: none;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        @media (max-width: 768px) {
            .card {
                padding: 1.5rem;
            }
            
            .header h1 {
                font-size: 1.8rem;
            }
        }
    </style>
</head>
<body>
    <div class="container-fluid">
        <div id="root">
            <div class="loading-spinner">
                <div class="spinner-border" role="status">
                    <span class="visually-hidden">Loading...</span>
                </div>
            </div>
        </div>
    </div>
    
    <button onclick="topFunction()" id="scrollToTopBtn" class="scroll-to-top" title="Go to top">â†‘</button>

    <!-- Bootstrap Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    <script>
        // Sample data for Breast Cancer Dataset
        const sampleCSV = `id,diagnosis,radius_mean,texture_mean,perimeter_mean,area_mean,smoothness_mean,compactness_mean,concavity_mean,concave points_mean,symmetry_mean,fractal_dimension_mean,radius_se,texture_se,perimeter_se,area_se,smoothness_se,compactness_se,concavity_se,concave points_se,symmetry_se,fractal_dimension_se,radius_worst,texture_worst,perimeter_worst,area_worst,smoothness_worst,compactness_worst,concavity_worst,concave points_worst,symmetry_worst,fractal_dimension_worst
842302,M,17.99,10.38,122.8,1001,0.1184,0.2776,0.3001,0.1471,0.2419,0.07871,1.095,0.9053,8.589,153.4,0.006399,0.04904,0.05373,0.01587,0.03003,0.006193,25.38,17.33,184.6,2019,0.1622,0.6656,0.7119,0.2654,0.4601,0.1189
843009,B,12.45,15.7,82.57,477.1,0.1278,0.17,0.1578,0.08089,0.2087,0.07613,0.3345,0.8902,2.217,27.19,0.00751,0.03345,0.03672,0.01137,0.02165,0.005082,15.47,23.75,103.4,741.6,0.1791,0.5249,0.5355,0.1741,0.3985,0.1244`;

        // Main application
        document.addEventListener('DOMContentLoaded', function() {
            loadData();
            window.onscroll = function() {
                scrollFunction();
            };
        });

        function scrollFunction() {
            const scrollToTopBtn = document.getElementById("scrollToTopBtn");
            if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
                scrollToTopBtn.style.display = "block";
            } else {
                scrollToTopBtn.style.display = "none";
            }
        }

        function topFunction() {
            document.body.scrollTop = 0;
            document.documentElement.scrollTop = 0;
        }

        // Process and clean data
        function processAndCleanData(rawData) {
            return rawData
                .filter(row => row['id'] && row['diagnosis']) // Discard empty/invalid rows
                .map(row => {
                    const cleaned = {};
                    Object.keys(row).forEach(key => {
                        let value = row[key];
                        const numericFields = ['radius_mean', 'texture_mean', 'perimeter_mean', 'area_mean', 'smoothness_mean', 'compactness_mean', 'concavity_mean', 'concave points_mean', 'symmetry_mean', 'fractal_dimension_mean', 'radius_se', 'texture_se', 'perimeter_se', 'area_se', 'smoothness_se', 'compactness_se', 'concavity_se', 'concave points_se', 'symmetry_se', 'fractal_dimension_se', 'radius_worst', 'texture_worst', 'perimeter_worst', 'area_worst', 'smoothness_worst', 'compactness_worst', 'concavity_worst', 'concave points_worst', 'symmetry_worst', 'fractal_dimension_worst'];
                        if (numericFields.includes(key)) {
                            value = parseFloat(value);
                            if (isNaN(value)) value = null;
                        }
                        cleaned[key] = value;
                    });
                    return cleaned;
                })
                .filter(row => row['diagnosis'] === 'M' || row['diagnosis'] === 'B');
        }

        // Data preparation functions
        function prepareRadiusDistribution(data) {
            const bins = Array(8).fill(0); // Bins for radius_mean (5-40 mm)
            data.forEach(row => {
                const radius = row['radius_mean'];
                if (radius && radius >= 5 && radius <= 40) {
                    const binIndex = Math.floor((radius - 5) / 5);
                    bins[binIndex]++;
                }
            });
            return bins.map((count, index) => ({
                radiusRange: `${5 + index * 5}-${5 + (index + 1) * 5}`,
                count
            }));
        }

        function prepareDiagnosisType(data) {
            const counts = { Malignant: { radius_mean: 0, count: 0 }, Benign: { radius_mean: 0, count: 0 } };
            data.forEach(row => {
                const diagnosis = row['diagnosis'] === 'M' ? 'Malignant' : 'Benign';
                if (row['radius_mean']) {
                    counts[diagnosis].radius_mean += row['radius_mean'];
                    counts[diagnosis].count++;
                }
            });
            return [
                { name: 'Malignant', radius_mean: counts.Malignant.count ? counts.Malignant.radius_mean / counts.Malignant.count : 0 },
                { name: 'Benign', radius_mean: counts.Benign.count ? counts.Benign.radius_mean / counts.Benign.count : 0 }
            ];
        }

        function prepareRadiusVsPerimeter(data) {
            const sampled = data
                .filter(row => row['radius_mean'] && row['perimeter_mean'])
                .slice(0, 200);
            return sampled.map(row => ({
                radius: row['radius_mean'],
                perimeter: row['perimeter_mean'],
                diagnosis: row['diagnosis'] === 'M' ? 'Malignant' : 'Benign'
            }));
        }

        function prepareKeyFeatures(data) {
            const features = ['radius_mean', 'concavity_mean', 'perimeter_mean'];
            const averages = features.map(feature => {
                const sum = data.reduce((acc, row) => acc + (row[feature] || 0), 0);
                return {
                    feature,
                    average: data.length ? sum / data.length : 0
                };
            });
            return averages;
        }

        function prepareRadiusByPerimeterBin(data) {
            const bins = {};
            data.forEach(row => {
                const perimeter = row['perimeter_mean'];
                const radius = row['radius_mean'];
                if (perimeter && radius && perimeter >= 40 && perimeter <= 200) {
                    const bin = Math.floor(perimeter / 20) * 20;
                    if (!bins[bin]) bins[bin] = { sum: 0, count: 0 };
                    bins[bin].sum += radius;
                    bins[bin].count++;
                }
            });
            return Object.keys(bins)
                .map(bin => ({
                    perimeter: parseInt(bin),
                    averageRadius: bins[bin].sum / bins[bin].count
                }))
                .sort((a, b) => a.perimeter - b.perimeter);
        }

        // Render charts using Chart.js
        function renderRadiusDistributionChart(radiusData) {
            const ctx = document.getElementById('radiusDistributionChart').getContext('2d');
            new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: radiusData.map(d => d.radiusRange),
                    datasets: [{
                        label: 'Number of Tumors',
                        data: radiusData.map(d => d.count),
                        backgroundColor: '#4db6ac',
                        borderColor: '#4db6ac',
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        x: {
                            title: {
                                display: true,
                                text: 'Radius Mean Range (mm)',
                                font: { size: 12 }
                            }
                        },
                        y: {
                            title: {
                                display: true,
                                text: 'Number of Tumors',
                                font: { size: 12 }
                            },
                            beginAtZero: true
                        }
                    },
                    plugins: {
                        legend: { display: true },
                        tooltip: { enabled: true }
                    }
                }
            });
        }

        function renderDiagnosisTypeChart(diagnosisData) {
            const ctx = document.getElementById('diagnosisTypeChart').getContext('2d');
            new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: diagnosisData.map(d => d.name),
                    datasets: [{
                        label: 'Average Radius Mean (mm)',
                        data: diagnosisData.map(d => d.radius_mean),
                        backgroundColor: '#4db6ac',
                        borderColor: '#4db6ac',
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        x: {
                            title: {
                                display: true,
                                text: 'Diagnosis',
                                font: { size: 12 }
                            }
                        },
                        y: {
                            title: {
                                display: true,
                                text: 'Average Radius Mean (mm)',
                                font: { size: 12 }
                            },
                            beginAtZero: true
                        }
                    },
                    plugins: {
                        legend: { display: true },
                        tooltip: { enabled: true }
                    }
                }
            });
        }

        function renderRadiusVsPerimeterChart(radiusPerimeterData) {
            const ctx = document.getElementById('radiusPerimeterChart').getContext('2d');
            new Chart(ctx, {
                type: 'scatter',
                data: {
                    datasets: [
                        {
                            label: 'Malignant',
                            data: radiusPerimeterData.filter(d => d.diagnosis === 'Malignant').map(d => ({
                                x: d.perimeter,
                                y: d.radius
                            })),
                            backgroundColor: '#e57373',
                            pointRadius: 4
                        },
                        {
                            label: 'Benign',
                            data: radiusPerimeterData.filter(d => d.diagnosis === 'Benign').map(d => ({
                                x: d.perimeter,
                                y: d.radius
                            })),
                            backgroundColor: '#4db6ac',
                            pointRadius: 4
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        x: {
                            title: {
                                display: true,
                                text: 'Perimeter Mean (mm)',
                                font: { size: 12 }
                            }
                        },
                        y: {
                            title: {
                                display: true,
                                text: 'Radius Mean (mm)',
                                font: { size: 12 }
                            }
                        }
                    },
                    plugins: {
                        legend: { display: true },
                        tooltip: { enabled: true }
                    }
                }
            });
        }

        function renderKeyFeaturesChart(featureData) {
            const ctx = document.getElementById('keyFeaturesChart').getContext('2d');
            new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: featureData.map(d => d.feature),
                    datasets: [{
                        label: 'Average Value',
                        data: featureData.map(d => d.average),
                        backgroundColor: '#4db6ac',
                        borderColor: '#4db6ac',
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        x: {
                            title: {
                                display: true,
                                text: 'Feature',
                                font: { size: 12 }
                            }
                        },
                        y: {
                            title: {
                                display: true,
                                text: 'Average Value',
                                font: { size: 12 }
                            },
                            beginAtZero: true
                        }
                    },
                    plugins: {
                        legend: { display: true },
                        tooltip: { enabled: true }
                    }
                }
            });
        }

        function renderRadiusByPerimeterChart(radiusPerimeterData) {
            const ctx = document.getElementById('radiusPerimeterBinChart').getContext('2d');
            new Chart(ctx, {
                type: 'line',
                data: {
                    labels: radiusPerimeterData.map(d => d.perimeter),
                    datasets: [{
                        label: 'Average Radius Mean (mm)',
                        data: radiusPerimeterData.map(d => d.averageRadius),
                        borderColor: '#4db6ac',
                        backgroundColor: 'rgba(77, 182, 172, 0.2)',
                        fill: true,
                        tension: 0.4
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        x: {
                            title: {
                                display: true,
                                text: 'Perimeter Mean Bin (mm)',
                                font: { size: 12 }
                            }
                        },
                        y: {
                            title: {
                                display: true,
                                text: 'Average Radius Mean (mm)',
                                font: { size: 12 }
                            }
                        }
                    },
                    plugins: {
                        legend: { display: true },
                        tooltip: { enabled: true }
                    }
                }
            });
        }

        // Load data and render the page
        function loadData() {
            let csv = sampleCSV;

            // Uncomment to fetch real CSV file
            /*
            fetch('breast-cancer.csv')
                .then(response => {
                    if (!response.ok) throw new Error('Failed to fetch CSV');
                    return response.text();
                })
                .then(data => {
                    csv = data;
                    parseCSV(csv);
                })
                .catch(err => {
                    document.getElementById('root').innerHTML = `
                        <div class="container my-4">
                            <div class="alert alert-danger text-center">
                                Error loading data: ${err.message}
                            </div>
                        </div>
                    `;
                });
            return;
            */

            parseCSV(csv);
        }

        function parseCSV(csv) {
            Papa.parse(csv, {
                header: true,
                skipEmptyLines: true,
                dynamicTyping: false,
                transformHeader: header => header.trim().replace(/^"|"$/g, ''),
                complete: function(results) {
                    if (results.errors.length > 0) {
                        document.getElementById('root').innerHTML = `
                            <div class="container my-4">
                                <div class="alert alert-danger text-center">
                                    Error parsing CSV: ${results.errors[0].message}
                                </div>
                            </div>
                        `;
                        return;
                    }
                    const cleanedData = processAndCleanData(results.data);
                    if (cleanedData.length === 0) {
                        document.getElementById('root').innerHTML = `
                            <div class="container my-4">
                                <div class="alert alert-danger text-center">
                                    Error: No valid data found in the dataset.
                                </div>
                            </div>
                        `;
                        return;
                    }
                    renderPage(cleanedData);
                },
                error: function(err) {
                    document.getElementById('root').innerHTML = `
                        <div class="container my-4">
                            <div class="alert alert-danger text-center">
                                Error loading data: ${err.message}
                            </div>
                        </div>
                    `;
                }
            });
        }

        // Render the complete page
        function renderPage(data) {
            const radiusData = prepareRadiusDistribution(data);
            const diagnosisData = prepareDiagnosisType(data);
            const radiusPerimeterData = prepareRadiusVsPerimeter(data);
            const featureData = prepareKeyFeatures(data);
            const radiusPerimeterBinData = prepareRadiusByPerimeterBin(data);

            const root = document.getElementById('root');
            root.innerHTML = `
                <div class="container my-4">
                    <!-- Header Section -->
                    <header class="header text-center mb-5">
                        <h1 class="display-4 fw-bold mb-3">Breast Cancer Dataset Report</h1>
                        <p class="lead">
                            A comprehensive analysis of the Breast Cancer Dataset, featuring tumor characteristics and diagnostic outcomes for malignancy prediction.
                        </p>
                    </header>

                    <!-- Summary Section -->
                    <div class="card">
                        <div class="card-header">
                            <h2 class="h4 mb-0">Dataset Summary</h2>
                        </div>
                        <div class="card-body">
                            <p class="card-text mb-3">
                                The Breast Cancer Dataset contains <strong>569 tumor records</strong> with <strong>32 attributes</strong>, designed for predicting tumor malignancy. It includes:
                            </p>
                            <ul class="mb-3">
                                <li>Identification: Unique tumor ID.</li>
                                <li>Diagnosis: Malignant (M) or Benign (B).</li>
                                <li>Tumor Features: Mean, standard error, and worst measurements for 10 characteristics (e.g., radius, texture, concavity).</li>
                            </ul>
                            <p class="card-text">
                                The dataset is ideal for machine learning models to predict breast cancer diagnosis and understand tumor characteristics.
                            </p>
                        </div>
                    </div>

                    <!-- Column Descriptions -->
                    <div class="card">
                        <div class="card-header">
                            <h2 class="h4 mb-0">Column Descriptions</h2>
                        </div>
                        <div class="card-body">
                            <div class="table-responsive">
                                <table class="table table-striped table-bordered">
                                    <thead>
                                        <tr>
                                            <th>Column Name</th>
                                            <th>Description</th>
                                            <th>Data Type</th>
                                            <th>Example Value</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr><td>id</td><td>Unique identifier for the tumor</td><td>String</td><td>842302</td></tr>
                                        <tr><td>diagnosis</td><td>Diagnosis of tumor (M=Malignant, B=Benign)</td><td>String</td><td>M</td></tr>
                                        <tr><td>radius_mean</td><td>Mean radius of tumor (mm)</td><td>Float</td><td>17.99</td></tr>
                                        <tr><td>texture_mean</td><td>Mean texture of tumor</td><td>Float</td><td>10.38</td></tr>
                                        <tr><td>perimeter_mean</td><td>Mean perimeter of tumor (mm)</td><td>Float</td><td>122.8</td></tr>
                                        <tr><td>area_mean</td><td>Mean area of tumor (mmÂ²)</td><td>Float</td><td>1001</td></tr>
                                        <tr><td>smoothness_mean</td><td>Mean smoothness of tumor</td><td>Float</td><td>0.1184</td></tr>
                                        <tr><td>compactness_mean</td><td>Mean compactness of tumor</td><td>Float</td><td>0.2776</td></tr>
                                        <tr><td>concavity_mean</td><td>Mean concavity of tumor</td><td>Float</td><td>0.3001</td></tr>
                                        <tr><td>concave points_mean</td><td>Mean number of concave points</td><td>Float</td><td>0.1471</td></tr>
                                        <tr><td>symmetry_mean</td><td>Mean symmetry of tumor</td><td>Float</td><td>0.2419</td></tr>
                                        <tr><td>fractal_dimension_mean</td><td>Mean fractal dimension</td><td>Float</td><td>0.07871</td></tr>
                                        <tr><td>radius_se</td><td>Standard error of radius</td><td>Float</td><td>1.095</td></tr>
                                        <tr><td>texture_se</td><td>Standard error of texture</td><td>Float</td><td>0.9053</td></tr>
                                        <tr><td>perimeter_se</td><td>Standard error of perimeter</td><td>Float</td><td>8.589</td></tr>
                                        <tr><td>area_se</td><td>Standard error of area</td><td>Float</td><td>153.4</td></tr>
                                        <tr><td>smoothness_se</td><td>Standard error of smoothness</td><td>Float</td><td>0.006399</td></tr>
                                        <tr><td>compactness_se</td><td>Standard error of compactness</td><td>Float</td><td>0.04904</td></tr>
                                        <tr><td>concavity_se</td><td>Standard error of concavity</td><td>Float</td><td>0.05373</td></tr>
                                        <tr><td>concave points_se</td><td>Standard error of concave points</td><td>Float</td><td>0.01587</td></tr>
                                        <tr><td>symmetry_se</td><td>Standard error of symmetry</td><td>Float</td><td>0.03003</td></tr>
                                        <tr><td>fractal_dimension_se</td><td>Standard error of fractal dimension</td><td>Float</td><td>0.006193</td></tr>
                                        <tr><td>radius_worst</td><td>Worst radius of tumor (mm)</td><td>Float</td><td>25.38</td></tr>
                                        <tr><td>texture_worst</td><td>Worst texture of tumor</td><td>Float</td><td>17.33</td></tr>
                                        <tr><td>perimeter_worst</td><td>Worst perimeter of tumor (mm)</td><td>Float</td><td>184.6</td></tr>
                                        <tr><td>area_worst</td><td>Worst area of tumor (mmÂ²)</td><td>Float</td><td>2019</td></tr>
                                        <tr><td>smoothness_worst</td><td>Worst smoothness of tumor</td><td>Float</td><td>0.1622</td></tr>
                                        <tr><td>compactness_worst</td><td>Worst compactness of tumor</td><td>Float</td><td>0.6656</td></tr>
                                        <tr><td>concavity_worst</td><td>Worst concavity of tumor</td><td>Float</td><td>0.7119</td></tr>
                                        <tr><td>concave points_worst</td><td>Worst number of concave points</td><td>Float</td><td>0.2654</td></tr>
                                        <tr><td>symmetry_worst</td><td>Worst symmetry of tumor</td><td>Float</td><td>0.4601</td></tr>
                                        <tr><td>fractal_dimension_worst</td><td>Worst fractal dimension</td><td>Float</td><td>0.1189</td></tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>

                    <!-- Visualizations Section -->
                    <div class="card">
                        <div class="card-header">
                            <h2 class="h4 mb-0">Visualizations</h2>
                        </div>
                        <div class="card-body">
                            <!-- Radius Distribution -->
                            <div class="mb-5">
                                <h3 class="h5 fw-bold mb-2">Tumor Radius Distribution</h3>
                                <p class="text-muted mb-3">This chart shows the distribution of tumor mean radius, binned into 5mm intervals.</p>
                                <div class="chart-container">
                                    <canvas id="radiusDistributionChart"></canvas>
                                </div>
                            </div>

                            <!-- Diagnosis by Type -->
                            <div class="mb-5">
                                <h3 class="h5 fw-bold mb-2">Average Radius by Diagnosis</h3>
                                <p class="text-muted mb-3">This chart compares average radius mean between malignant and benign tumors.</p>
                                <div class="chart-container">
                                    <canvas id="diagnosisTypeChart"></canvas>
                                </div>
                            </div>

                            <!-- Radius vs. Perimeter -->
                            <div class="mb-5">
                                <h3 class="h5 fw-bold mb-2">Radius vs. Perimeter</h3>
                                <p class="text-muted mb-3">This scatter plot explores the relationship between mean radius and perimeter, colored by diagnosis.</p>
                                <div class="chart-container">
                                    <canvas id="radiusPerimeterChart"></canvas>
                                </div>
                            </div>

                            <!-- Key Features -->
                            <div class="mb-5">
                                <h3 class="h5 fw-bold mb-2">Prevalence of Key Features</h3>
                                <p class="text-muted mb-3">This chart shows the average values of key tumor features.</p>
                                <div class="chart-container">
                                    <canvas id="keyFeaturesChart"></canvas>
                                </div>
                            </div>

                            <!-- Radius by Perimeter Bin -->
                            <div class="mb-3">
                                <h3 class="h5 fw-bold mb-2">Average Radius by Perimeter Bin</h3>
                                <p class="text-muted mb-3">This line chart shows average radius mean across binned perimeter sizes.</p>
                                <div class="chart-container">
                                    <canvas id="radiusPerimeterBinChart"></canvas>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Key Insights -->
                    <div class="card">
                        <div class="card-header">
                            <h2 class="h4 mb-0">Key Insights</h2>
                        </div>
                        <div class="card-body">
                            <ul class="list-group list-group-flush">
                                <li class="list-group-item insight-item">Malignant tumors tend to have larger mean radius (e.g., 17.99 mm for ID 842302) compared to benign tumors (e.g., 12.45 mm for ID 843009).</li>
                                <li class="list-group-item insight-item">Concavity mean is higher in malignant tumors, indicating shape irregularities as a predictor of malignancy.</li>
                                <li class="list-group-item insight-item">There is a strong correlation between mean radius and perimeter, with malignant tumors clustering at higher values.</li>
                                <li class="list-group-item insight-item">Features like radius, perimeter, and concavity are critical for distinguishing malignant from benign tumors.</li>
                            </ul>
                        </div>
                    </div>

                    <!-- Conclusion -->
                    <div class="card">
                        <div class="card-header">
                            <h2 class="h4 mb-0">Conclusion</h2>
                        </div>
                        <div class="card-body">
                            <p class="card-text">
                                The Breast Cancer Dataset provides a valuable resource for understanding tumor characteristics and developing predictive models for malignancy. Its comprehensive attributes enable detailed analysis of diagnostic markers. The visualizations reveal key patterns, such as the larger size and irregular shape of malignant tumors. This dataset is invaluable for researchers and clinicians aiming to improve early detection and diagnosis of breast cancer.
                            </p>
                        </div>
                    </div>

                    <!-- Back to Home Button -->
                    <a href="{% url "cancer:predict_cancer" %}" class="back-home-btn">Back to Home</a>
                </div>
            `;

            // Render all charts
            renderRadiusDistributionChart(radiusData);
            renderDiagnosisTypeChart(diagnosisData);
            renderRadiusVsPerimeterChart(radiusPerimeterData);
            renderKeyFeaturesChart(featureData);
            renderRadiusByPerimeterChart(radiusPerimeterBinData);
        }
    </script>
</body>
</html>